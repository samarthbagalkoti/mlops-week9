groups:
- name: app-alerts
  rules:
  - alert: HighErrorRate
    expr: increase(http_requests_total{status=~"5.."}[1m]) > 1
    for: 15s
    labels: {severity: critical}
    annotations: {summary: "High 5xx rate in last minute"}

  - alert: HighLatencyP95
    expr: histogram_quantile(0.95, sum by (le) (rate(http_request_duration_seconds_bucket[2m]))) > 0.2
    for: 30s
    labels: {severity: warning}
    annotations: {summary: "p95 latency > 200ms"}

